<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Editor â€” React</title>
<script>
// Save real parent BEFORE bridge script overrides window.parent
var __host = window.parent;
var __rpcId = 0;
window.rpcEmit = function(event, data) {
  __host.postMessage({ __aiga_rpc: true, id: 'e_' + (++__rpcId), type: 'event', event: event, data: data }, '*');
};
window.rpcOn = function(event, cb) {
  window.addEventListener('message', function(e) {
    var d = e.data;
    if (d && d.__aiga_rpc && d.type === 'event' && d.event === event) cb(d.data);
  });
};
</script>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:system-ui,-apple-system,sans-serif;background:#fff;color:#111;padding:20px}
.badge{display:inline-flex;align-items:center;gap:6px;font-size:11px;font-weight:600;color:#0ea5e9;background:#e0f2fe;padding:3px 10px;border-radius:999px;margin-bottom:16px}
.badge svg{width:14px;height:14px}
h2{font-size:16px;font-weight:600;margin-bottom:12px}
textarea{width:100%;min-height:200px;border:1px solid #e2e8f0;border-radius:8px;padding:12px;font-size:14px;line-height:1.6;resize:vertical;font-family:inherit;outline:none;transition:border-color .15s}
textarea:focus{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1)}
.hint{font-size:12px;color:#94a3b8;margin-top:8px}
</style>
</head>
<body>
<div class="badge"><svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"/></svg> React</div>
<h2>Text Editor</h2>
<div id="root"></div>
<script>
var e = React.createElement;
function App() {
  var ref = React.useState('Hello from React!\n\nType here and watch it appear in the Svelte preview.');
  var text = ref[0], setText = ref[1];
  React.useEffect(function() { rpcEmit('content-change', { text: text }); }, [text]);
  return e('div', null,
    e('textarea', {
      value: text,
      onChange: function(ev) { setText(ev.target.value); },
      placeholder: 'Type something...'
    }),
    e('p', { className: 'hint' }, 'Changes are sent to the Svelte preview via Aiga RPC')
  );
}
ReactDOM.createRoot(document.getElementById('root')).render(e(App));
</script>
</body>
</html>
